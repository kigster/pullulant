#!/usr/bin/env bash
# vim: ft=bash
#
#
# © 2016-2021  Konstantin Gredeskoul
# https://github.com/kigster
#
# For project Pullulant
# https://github.com/kigster/pullulant/
#
# MIT License

export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8
export MANPATH="/usr/local/opt/gnu-sed/libexec/gnuman:$MANPATH"
export PGUSER=postgres
export EDITOR=vim
export PAGER='less -R'
export RI='-f ansi'
export HISTCONTROL=ignoredups

function source-if-exists() {
  local file
  local t1 t2
  for file in "$@"; do
    t1=$(millis)
    [[ -n $DEBUG ]] && printf "${bldblu}sourcing ${bldylw}%30s${clr}...  ->" "${file}"
    [[ -f "${file}" ]] && source "${file}"
    t2=$(millis)
    diff=$(( t2 - t1 ))
    [[ -n $DEBUG ]] && printf " ✅  $(diff)ms\n"
  done
}

source-if-exists ~/.bash_pu_aliases
source-if-exists ~/.bash_pu_aliases_ag
source-if-exists ~/.bash_pu_bashmatic
source-if-exists ~/.bash_pu_colors
source-if-exists ~/.bash_pu_functions
source-if-exists ~/.bash_pu_git
source-if-exists ~/.bash_pu_gpg
source-if-exists ~/.bash_pu_grep
source-if-exists ~/.bash_pu_pgsql
source-if-exists ~/.bash_pu_user
source-if-exists ~/.bashit


# Load rbenv and pyenv without th expensive eval.
export PATH="$HOME/bin:/usr/local/bin:/bin:/usr/bin:/bin:/usr/sbin:/sbin"
for env in rbenv pyenv; do
  dir="${HOME}/.${env}/shims"
  if [[ -d "${dir}" ]] ; then
    export PATH="${dir}:$PATH"
  fi
done


