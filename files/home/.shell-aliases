#_______________________________________________________________________________
#
# (c) 2016 Konstantin Gredeskoul
# https://github.com/kigster
#
# For project Pullulant
# https://github.com/kigster/pullulant/
#
# MIT License
#_______________________________________________________________________________

umask 027

alias 'gst'='git status'
alias 'gpr'='git pull --rebase'
alias 'gprs'='git stash && git pull --rebase && git stash pop'
alias 'gs'='git status'
alias 'gc'='git co'
alias 'gd'='git diff'
alias 'gm'='git commit -m'
alias 'gl'='git log'
alias 'gpp'='git pull && git push'
alias 'ga'='git add'
alias 'gaa'='git add -A'
alias 'gap'='git add -p'
alias 'gpp'='git pull --rebase && git push'
alias networks="/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -s"

alias dc='cd'
alias dir='ls -lF'
alias lr='ls -alrt'
alias l='ls -alF'
alias ds='du -k  | grep -v "\/.*\/"'
alias diskspace="du -k | grep -v './.*\/'"
alias solo="pushd ~/workspace/sprout-wrap && git pull && be soloist && popd"
alias be="bundle exec"
alias ber="bundle exec rake"

function py {
  [[ -z "$(which pyenv)" ]] || eval "$(pyenv init -)"
}
function rb {
  [[ -z "$(which rbenv)" ]] || eval "$(rbenv init -)"
}
function load {
  cd ~/Library/LaunchAgents
  launchctl load -w *$1*
  cd -
}
function unload {
  cd ~/Library/LaunchAgents
  launchctl unload -w *$1*
  cd -
}
function loaded {
  printf "\n"
  shift
  while test ${#} -gt 0
  do
    running $1
    shift
  done
}
function running {
  pattern=$1
  out=$(ps -ef | egrep "${pattern}" | grep -v grep | wc -l)
  [[ $out -eq 0 ]] && printf "${bldwht}%14s is ${bldred}stopped${txtrst}\n" $pattern
  [[ $out -ne 0 ]] && printf "${bldwht}%14s is ${bldgrn}running ($(echo $out | sed -E 's/\s//g') processes)${txtrst}\n" $pattern
}
