#!/usr/bin/env bash
# vim: ft=bash
set +e

if [[ -x /opt/homebrew/bin/brew ]] ; then
  if [[ $(arch) == "i386" ]]; then
    alias brew='arch -x86_64 /opt/homebrew/bin/brew'
  else
    alias brew='arch -arm64 /opt/homebrew/bin/brew'
  fi
else
  alias brew="/usr/local/bin/brew"
fi

command -v brew >/dev/null    && export PATH="$(brew --prefix)/bin:${PATH}"

[[ -f ~/.bash_pullulant ]]              && source ~/.bash_pullulant :bashmatic :bash_it :bazel 
[[ -f ~/.bash_pu_bashmatic ]]           && source ~/.bash_pu_bashmatic
[[ -f ~/.bash_bash_it ]]                && source ~/.bash_bash_it

[[ -f /usr/local/etc/bash_completion ]] && source /usr/local/etc/bash_completion

command -v fzf          >/dev/null && [[ -f ~/.fzf.bash ]] && source ~/.fzf.bash
command -v grc          >/dev/null && [[ -f ~/.grc.bashrc ]] && source ~/.grc.bashrc
command -v warp-dir     >/dev/null && [[ -f ~/.bash_wd ]] && source ~/.bash_wd

source "${HOME}"/.bashrc

[[ -f "${HOME}/.bashrc.${USER}" ]] && source "${HOME}/.bashrc.${USER}"

set +e
export BASHMATIC_HOME="/Users/kig/.bashmatic"
[[ -f ${BASHMATIC_HOME}/init.sh ]] && source ${BASHMATIC_HOME}/init.sh
export PATH="${PATH}:${BASHMATIC_HOME}/bin"
